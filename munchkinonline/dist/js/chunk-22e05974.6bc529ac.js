(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e05974"],{"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("17c2"),o=a("9112");for(var s in r){var c=n[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),i=a("ae40"),o=r("forEach"),s=i("forEach");t.exports=o&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"21e9":function(t,e,a){},4160:function(t,e,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"9e66":function(t,e,a){"use strict";var n=a("21e9"),r=a.n(n);r.a},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},a8e6:function(t,e,a){},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in i)&&r(i,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},c66d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"nav"}},[a("div",{attrs:{id:"title"}},[t._v(" Munchkin Online ")]),a("div",{attrs:{id:"navBar"}},[a("span",[a("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" | ")],1),a("span",[a("router-link",{attrs:{to:"/profile"}},[t._v("Profile")]),t._v(" | ")],1),a("span",[a("router-link",{attrs:{to:"/play"}},[t._v("Play")]),t._v(" | ")],1),a("a",{on:{click:function(e){return t.logOut()}}},[t._v(" Sign Out ")])])]),a("div",{attrs:{id:"line"}}),a("div",{staticClass:"container"},[a("div",[a("b-card",{attrs:{id:"userProfile",title:"Your Profile"}},[a("b-card-text",[t._v("Username: "+t._s(t.userData.name))]),a("b-card-text",[t._v("Email: "+t._s(t.userData.email))]),a("b-card-text",[t._v("Date Joined: "+t._s(t.userData.joined))])],1)],1),a("div",{staticClass:"mt-3",attrs:{id:"history"}},[a("h1",[t._v("Game History")]),a("b-card-group",{attrs:{columns:""}},t._l(t.gameHistory,(function(t){return a("div",{key:t.id},[a("HistoryElement",{attrs:{entryData:t}})],1)})),0)],1),a("div",{attrs:{id:"rest"}})])])},r=[],i=(a("d81d"),a("b0c0"),a("205f")),o=a("8aa5"),s=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"border-variant":"info",header:t.entryData.data.roomName+" - "+t.entryData.data.date,"header-bg-variant":"info","header-text-variant":"white",align:"center"}},[a("b-card-text",t._l(t.elements,(function(e,n){return a("p",{key:n},[a("span",{class:e.pos},[t._v(t._s(e.pos)+". "+t._s(e.value))])])})),0)],1)},u=[],l=(a("4160"),a("159b"),{name:"HistoryElement",components:{BCard:i["a"]},data:function(){return{elements:[]}},created:function(){this.generatePositions()},props:["entryData"],methods:{generatePositions:function(){var t=this,e=this.entryData.data.usernames,a=this.entryData.data.winner;e.forEach((function(e,n){a==e?t.elements.push({value:e,pos:"1"}):t.elements.push({value:e,pos:"".concat(n+1)})}))}}}),d=l,f=(a("9e66"),a("2877")),m=Object(f["a"])(d,c,u,!1,null,"36dd6654",null),h=m.exports,v=a("56d7"),g=a("1940"),p=a.n(g),y={name:"profile",components:{BCard:i["a"],HistoryElement:h},data:function(){return{userData:{name:"",email:"",joined:""},gameHistory:[],buttonData:{id:101,buttonText:"Log Out",eventName:"logout"}}},created:function(){var t=this;s.a.auth().onAuthStateChanged((function(e){e?t.getUserData(e):t.userData={name:"",email:"",joined:""}}))},methods:{logOut:function(){""!=this.userData.email?s.a.auth().signOut().then((function(){s.a.auth().onAuthStateChanged((function(){localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),window.location.href="/"}))})):p()("Oops!","You have not signed in","error")},getUserData:function(t){var e=this;v["userCollection"].where("email","==",t.email).limit(1).get().then((function(t){e.userData=t.docs[0].data(),localStorage.setItem("userName",e.userData.name),localStorage.setItem("userEmail",e.userData.email),e.getGameHistory()})).catch((function(t){console.log("Error loading user data: ",t)}))},getGameHistory:function(){var t=this;v["gameCollection"].where("emails","array-contains",this.userData.email).limit(30).get().then((function(e){t.gameHistory=e.docs.map((function(t){return{data:t.data(),id:t.id}}))})).catch((function(t){console.log("Error getting game data: ",t)}))}}},b=y,L=(a("f24f"),Object(f["a"])(b,n,r,!1,null,"2443b23c",null));e["default"]=L.exports},f24f:function(t,e,a){"use strict";var n=a("a8e6"),r=a.n(n);r.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-22e05974.6bc529ac.js.map